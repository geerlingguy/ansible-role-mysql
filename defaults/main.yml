---
mysql_user_home: /root
mysql_root_username: root
mysql_root_password: root

mysql_enabled_on_startup: yes

# update my.cnf. each time role is run? yes | no
overwrite_global_mycnf: yes

# Define a custom list of packages to install; if none provided, the default
# package list from vars/[OS-family].yml will be used.
# mysql_packages:
#   - mysql
#   - mysql-server
#   - MySQL-python

# Pass in a comma-separated list of repos to use (e.g. "remi,epel"). Used only
# for RedHat systems (and derivatives).
mysql_enablerepo: ""

# Define a custom list of incompatible packages to uninstall before installing mysql;
# mysql_incompatible_packages:
#   - package-name

# Databases.
mysql_databases: []
# Full example:
# mysql_databases:
#   - { name: example, collation: utf8_general_ci, encoding: utf8, replicate: 1 }

# Users
mysql_users: []
# Full Example:
#mysql_users:
#   - { name: example, host: 127.0.0.1, password: secret, update_password: allways,  priv: "*.*:USAGE" }
#   - { name: example2, host: 127.0.0.1, password: secret, update_password: on_create,  priv: "*.*:USAGE" }

# MySQL connection settings.
mysql_port: "3306"
mysql_bind_address: '0.0.0.0'
mysql_datadir: /var/lib/mysql

# Logging settings.
mysql_log_error: /var/log/mysqld.log
mysql_syslog_tag: mysqld

mysqld_performance_settings:
  # Memory settings (default values optimized ~512MB RAM).
  - { name: key_buffer_size, value: "256M" }
  - { name: max_allowed_packet, value: "64M" }
  - { name: table_open_cache, value: "256" }
  - { name: sort_buffer_size, value: "1M" }
  - { name: read_buffer_size, value: "1M" }
  - { name: read_rnd_buffer_size, value: "4M" }
  - { name: myisam_sort_buffer_size, value: "64M" }
  - { name: thread_cache_size, value: "8" }
  - { name: query_cache_size, value: "16M" }

  # Other settings.
  - { name: wait_timeout, value: 28800 }

  # Try number of CPU's * 2 for thread_concurrency.
  - { name: thread_concurrency, value: 2 }

  # InnoDB settings.
  # Set .._buffer_pool_size up to 80% of RAM but beware of setting too high.
  - { name: innodb_file_per_table, value: "1" }
  - { name: innodb_buffer_pool_size, value: "256M" }
  - { name: innodb_additional_mem_pool_size, value: "20M" }
  # Set .._log_file_size to 25% of buffer pool size.
  - { name: innodb_log_file_size, value: "64M" }
  - { name: innodb_log_buffer_size, value: "8M" }
  - { name: innodb_flush_log_at_trx_commit, value: "1" }
  - { name: innodb_lock_wait_timeout, value: 50 }

# mysqldump settings.
mysql_dump_settings:
  - { name: mysql_mysqldump_max_allowed_packet, value: "64M" }

# Replication settings (replication is only enabled if master/user have values).
mysql_server_id: "1"
mysql_max_binlog_size: "100M"
mysql_expire_logs_days: "10"
mysql_replication_role: ''
mysql_replication_master: ''
# Same keys as `mysql_users` above.
mysql_replication_user: []
